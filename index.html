<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Financial nn by nweidler</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Financial nn</h1>
      <h2 class="project-tagline"></h2>
      <a href="https://github.com/nweidler/financial_nn" class="btn">View on GitHub</a>
      <a href="https://github.com/nweidler/financial_nn/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/nweidler/financial_nn/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="beating-the-sp-500-using-a-neural-network" class="anchor" href="#beating-the-sp-500-using-a-neural-network" aria-hidden="true"><span class="octicon octicon-link"></span></a>Beating the S&amp;P 500 Using a Neural Network</h1>

<h3>
<a id="teaserthe-why" class="anchor" href="#teaserthe-why" aria-hidden="true"><span class="octicon octicon-link"></span></a>Teaser/The Why?</h3>

<p>Wouldn't it be great to be able to teach a computer how to trade profitably and then sit back while it did all the work?  That is what this project is dedicated to.  Teaching a computer to make money for you in the stock market.  The reason for this is to increase my net worth. </p>

<h3>
<a id="what" class="anchor" href="#what" aria-hidden="true"><span class="octicon octicon-link"></span></a>What</h3>

<p>Technical analysis of the stock market has been around since the Dutch markets in the 17th century according to Wikipedia.  It is a method of predicting the future prices of securities by studying past market behavior.  Specifically technical analysis includes finding patterns in past price and volume data.  These patterns are then applied to the stock market in real-time.  I would like to teach a computer how to find patterns in historical stock market data and then look for those patterns developing in real-time in the stock market.  This is a very interesting problem because technician have use this same technique for hundreds of years to profit.  If a human can recognize these patterns in charts, a computer can also be trained to do so.  The difference is that a computer can do it more efficiently and react to the patterns much faster than any human could, maximizing profits.</p>

<h3>
<a id="platform" class="anchor" href="#platform" aria-hidden="true"><span class="octicon octicon-link"></span></a>Platform</h3>

<p>I have decided to use Quantopian as a tool to help expand my wealth.  Quantopian is a "crowd-sourced hedge fund that provides the world's first browser-based algorithmic trading platform. On our platform, you can write code to execute your investment strategies, instead of relying on manual trades and emotional urges."  (Quote take from <a href="https://www.quantopian.com/faq">https://www.quantopian.com/faq</a>)
The idea behind Quantopian is that they provide an in-browser platform which allows the user to write python algorithms to trade the stock market.  You are provided with years of historical data and functions which help you access that data efficiently.  They have built in functions to run back tests and provide useful feedback as to your algorithms risks and rewards.
Quantopian does have its drawbacks however.  It is relatively new and it currently only supports 20 python modules that can be imported.  This makes some things more difficult but I decided to give it a try.  If you are interested in this type of thing I would recommend you try it out as well.  Quantopian recently joined forces with RobinHood (a commission free trading platform) to allow you to trade real money with algorithms created and tested on Quantopian.</p>

<h3>
<a id="chosen-technical-indicators" class="anchor" href="#chosen-technical-indicators" aria-hidden="true"><span class="octicon octicon-link"></span></a>Chosen Technical Indicators</h3>

<h4>
<a id="moving-average-convergence-divergence-or-macd" class="anchor" href="#moving-average-convergence-divergence-or-macd" aria-hidden="true"><span class="octicon octicon-link"></span></a>Moving Average Convergence Divergence or MACD</h4>

<p>The MACD helps traders determine the future movement in a given security.  The MACD incorporates several moving averages into a single signal to find trends in a stock.  This technical indicator consists of two chart lines the MACD line and the signal line.  The MACD line is made up of the difference between the 26 day exponential moving average and the 12 day exponential moving average.  The signal line is made up of the 9 day moving average.  When the signal line is below the MACD line and crosses above it this is a bullish signal, or a signal to buy.  When the signal line is above the MACD line and crosses under it this is considered a bearish or sell signal.</p>

<h4>
<a id="inputs" class="anchor" href="#inputs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Inputs</h4>

<p>Greatly expanded the inputs: now there are 25 inputs comparing several technical indicators : MACD, RSI, ATR, SMA-10-day.  These technical indicators are looked examined for buy signals, as well as compared to themselves yesterday and two days ago in order to detect the trend.</p>

<h4>
<a id="expected-outputs" class="anchor" href="#expected-outputs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Expected Outputs</h4>

<p>Now determined by a stop loss.  To build the training data I allow the system to risk 1% of its working capital.  Each morning I simulate a buy of the S&amp;P 500.  I then look forward in historical data to see when the trade would be stopped buy loosing 1%.  At the time of the stop if I made more than 5% I call that a buy and set the expected output to 1 for that day.  Otherwise it is set to 0.</p>

<p><img src="https://cloud.githubusercontent.com/assets/10660367/11338993/733cae56-91b4-11e5-9cc5-ac91ed0c14b4.PNG" alt="output_code"></p>

<h3>
<a id="current-test" class="anchor" href="#current-test" aria-hidden="true"><span class="octicon octicon-link"></span></a>Current Test</h3>

<p>Runs for 265 trading days, but the error doesn't reduce to a usable number.  The neural network is still not being trained, the data still looks random.</p>

<h3>
<a id="results" class="anchor" href="#results" aria-hidden="true"><span class="octicon octicon-link"></span></a>Results</h3>

<h4>
<a id="example-of-error-reduction" class="anchor" href="#example-of-error-reduction" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example of Error Reduction</h4>

<p><img src="https://cloud.githubusercontent.com/assets/10660367/11338320/a0750f52-91b0-11e5-9ac7-3e69fc420e60.PNG" alt="error_good"></p>

<h4>
<a id="my-error-reduction" class="anchor" href="#my-error-reduction" aria-hidden="true"><span class="octicon octicon-link"></span></a>My Error Reduction</h4>

<p><img src="https://cloud.githubusercontent.com/assets/10660367/11338325/a7c3728a-91b0-11e5-97cf-edb80f06e906.PNG" alt="error_chart"></p>

<h4>
<a id="my-error-changing" class="anchor" href="#my-error-changing" aria-hidden="true"><span class="octicon octicon-link"></span></a>My Error Changing</h4>

<p><img src="https://cloud.githubusercontent.com/assets/10660367/11338321/a63ec478-91b0-11e5-9a5d-699bc98e1f5f.PNG" alt="error_changing"></p>

<h4>
<a id="my-error-settling" class="anchor" href="#my-error-settling" aria-hidden="true"><span class="octicon octicon-link"></span></a>My Error Settling</h4>

<p><img src="https://cloud.githubusercontent.com/assets/10660367/11338330/aa6b163c-91b0-11e5-9e56-396330c3a011.PNG" alt="errors_end"></p>

<h3>
<a id="code" class="anchor" href="#code" aria-hidden="true"><span class="octicon octicon-link"></span></a>Code</h3>

<p><a href="https://www.quantopian.com/algorithms/5639a0b7fb216fed200000bf">https://www.quantopian.com/algorithms/5639a0b7fb216fed200000bf</a></p>

<h3>
<a id="authors-and-contributors" class="anchor" href="#authors-and-contributors" aria-hidden="true"><span class="octicon octicon-link"></span></a>Authors and Contributors</h3>

<p>You can <a href="https://github.com/blog/821" class="user-mention">@mention</a> a GitHub username to generate a link to their profile. The resulting <code>&lt;a&gt;</code> element will link to the contributor’s GitHub Profile. For example: In 2007, Chris Wanstrath (<a href="https://github.com/defunkt" class="user-mention">@defunkt</a>), PJ Hyett (<a href="https://github.com/pjhyett" class="user-mention">@pjhyett</a>), and Tom Preston-Werner (<a href="https://github.com/mojombo" class="user-mention">@mojombo</a>) founded GitHub.</p>

<h3>
<a id="support-or-contact" class="anchor" href="#support-or-contact" aria-hidden="true"><span class="octicon octicon-link"></span></a>Support or Contact</h3>

<p>Having trouble with Pages? Check out our <a href="https://help.github.com/pages">documentation</a> or <a href="https://github.com/contact">contact support</a> and we’ll help you sort it out.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/nweidler/financial_nn">Financial nn</a> is maintained by <a href="https://github.com/nweidler">nweidler</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
